<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrÃ©er un Cours - Crypto-Nitro</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="../css/admin-main.css">
    <link rel="stylesheet" href="../css/admin-components.css">
    <link rel="stylesheet" href="css/creation.css">
</head>
<body class="admin-body">
    
    <!-- Header -->
    <header class="admin-header">
        <div class="header-content">
            <div class="logo-admin">
                <a href="../admin.html">ğŸ›¡ï¸ CryptoTraders Pro - Admin</a>
            </div>
            
            <div class="header-right">
                <div class="admin-info">
                    <span class="admin-badge">FORMATEUR</span>
                    <div class="user-info">
                        <div class="user-avatar">ğŸ‘‘</div>
                        <span class="user-name" id="admin-name">Formateur</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Container Principal -->
    <div class="creation-container">
        
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <a href="../admin.html">ğŸ  Dashboard</a>
            <span>â€º</span>
            <a href="javascript:void(0)" onclick="goToFormations()">ğŸ“ Formations</a>
            <span>â€º</span>
            <span class="current">CrÃ©er un Cours</span>
        </div>

        <!-- En-tÃªte -->
        <div class="page-header">
            <h1>ğŸ“ CrÃ©er un Nouveau Cours</h1>
            <p>CrÃ©ez un module de formation structurÃ© pour vos Ã©tudiants</p>
        </div>

        <!-- Formulaire -->
        <form id="course-form" class="course-form">
            
            <!-- Informations gÃ©nÃ©rales -->
            <div class="form-section">
                <h2>ğŸ“ Informations du Cours</h2>
                
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="course-title">Titre du Cours *</label>
                        <input type="text" id="course-title" required placeholder="Ex: La cryptomonnaie, c'est quoi?">
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="course-description">Description *</label>
                        <textarea id="course-description" required rows="3" 
                                  placeholder="DÃ©crivez ce que vos Ã©tudiants vont apprendre dans ce cours..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="course-category">CatÃ©gorie *</label>
                        <select id="course-category" required>
                            <option value="">Choisir une catÃ©gorie</option>
                            <option value="debutant">ğŸŒ± DÃ©butant</option>
                            <option value="intermediaire">â­ IntermÃ©diaire</option>
                            <option value="avance">ğŸš€ AvancÃ©</option>
                            <option value="expert">ğŸ‘‘ Expert</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="course-duration">DurÃ©e estimÃ©e</label>
                        <input type="text" id="course-duration" placeholder="Ex: 2h30">
                    </div>

                    <div class="form-group full-width">
                        <label>Ã‰moji du cours</label>
                        <div class="emoji-selector">
                            <div class="emoji-preview">
                                <span class="selected-emoji" id="course-emoji">ğŸ“</span>
                                <span class="emoji-text">Cliquez pour changer</span>
                            </div>
                            <div class="emoji-grid" id="course-emoji-grid" style="display: none;">
                                <span class="emoji-option" data-emoji="ğŸ“">ğŸ“</span>
                                <span class="emoji-option" data-emoji="ğŸ“š">ğŸ“š</span>
                                <span class="emoji-option" data-emoji="ğŸ’¡">ğŸ’¡</span>
                                <span class="emoji-option" data-emoji="ğŸš€">ğŸš€</span>
                                <span class="emoji-option" data-emoji="ğŸ’°">ğŸ’°</span>
                                <span class="emoji-option" data-emoji="ğŸ“ˆ">ğŸ“ˆ</span>
                                <span class="emoji-option" data-emoji="ğŸ”">ğŸ”</span>
                                <span class="emoji-option" data-emoji="âš¡">âš¡</span>
                                <span class="emoji-option" data-emoji="ğŸ¯">ğŸ¯</span>
                                <span class="emoji-option" data-emoji="ğŸ”¥">ğŸ”¥</span>
                                <span class="emoji-option" data-emoji="ğŸ’">ğŸ’</span>
                                <span class="emoji-option" data-emoji="ğŸŒŸ">ğŸŒŸ</span>
                            </div>
                            <button type="button" class="btn-auto-emoji" onclick="suggestEmojiFromTitle()">ğŸ² SuggÃ©rer automatiquement</button>
                        </div>
                        <input type="hidden" id="course-emoji-value" value="ğŸ“">
                    </div>
                    
                    <div class="form-group full-width">
                        <label>Niveau de difficultÃ©</label>
                        <div class="difficulty-selector">
                            <button type="button" class="star-btn active" data-rating="1">â­</button>
                            <button type="button" class="star-btn" data-rating="2">â­</button>
                            <button type="button" class="star-btn" data-rating="3">â­</button>
                            <button type="button" class="star-btn" data-rating="4">â­</button>
                            <button type="button" class="star-btn" data-rating="5">â­</button>
                            <span class="difficulty-text">TrÃ¨s facile</span>
                        </div>
                        <input type="hidden" id="course-difficulty" value="1">
                    </div>
                </div>
            </div>

            <!-- Sections du cours -->
            <div class="form-section">
                <div class="section-header">
                    <h2>ğŸ“š Contenu du Cours</h2>
                    <p>Structurez votre cours en sections. Chaque section peut contenir du texte et une vidÃ©o.</p>
                </div>
                
                <div id="sections-container">
                    <!-- Section 1 par dÃ©faut -->
                    <div class="course-section" data-section="1">
                        <div class="section-header-item">
                            <div class="section-title-group">
                                <div class="section-emoji-selector">
                                    <span class="section-emoji" data-section="1">ğŸ“–</span>
                                    <div class="section-emoji-grid" style="display: none;">
                                        <span class="emoji-option" data-emoji="ğŸ“–">ğŸ“–</span>
                                        <span class="emoji-option" data-emoji="ğŸ“">ğŸ“</span>
                                        <span class="emoji-option" data-emoji="ğŸ’¡">ğŸ’¡</span>
                                        <span class="emoji-option" data-emoji="ğŸ”">ğŸ”</span>
                                        <span class="emoji-option" data-emoji="âš™ï¸">âš™ï¸</span>
                                        <span class="emoji-option" data-emoji="ğŸ¯">ğŸ¯</span>
                                        <span class="emoji-option" data-emoji="ğŸš€">ğŸš€</span>
                                        <span class="emoji-option" data-emoji="ğŸ’">ğŸ’</span>
                                    </div>
                                </div>
                                <h3>Section 1</h3>
                            </div>
                            <button type="button" class="btn-remove-section" onclick="removeSection(1)" disabled>
                                ğŸ—‘ï¸ Supprimer
                            </button>
                        </div>
                        
                        <div class="section-content">
                            <div class="form-group">
                                <label>Titre de la section *</label>
                                <input type="text" name="section-title[]" required 
                                       placeholder="Ex: Comprendre la blockchain">
                            </div>
                            
                            <div class="form-group">
                                <label>Contenu de la section *</label>
                                <div class="editor-container">
                                    <div class="editor-toolbar">
                                        <button type="button" class="editor-btn" data-command="bold" title="Gras">B</button>
                                        <button type="button" class="editor-btn" data-command="italic" title="Italique">I</button>
                                        <button type="button" class="editor-btn" data-command="underline" title="SoulignÃ©">U</button>
                                        <button type="button" class="editor-btn" data-command="insertUnorderedList" title="Liste Ã  puces">â€¢ Liste</button>
                                        <button type="button" class="editor-btn" data-command="insertOrderedList" title="Liste numÃ©rotÃ©e">1. Liste</button>
                                        <button type="button" class="editor-btn" data-command="justifyLeft" title="Aligner Ã  gauche">â¬…</button>
                                        <button type="button" class="editor-btn" data-command="justifyCenter" title="Centrer">â¬Œ</button>
                                        <button type="button" class="editor-btn" data-command="justifyRight" title="Aligner Ã  droite">â¡</button>
                                    </div>
                                    <div class="editor-content" contenteditable="true" 
                                         placeholder="RÃ©digez le contenu de cette section..."></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Images de la section</label>
                                <div class="images-container" data-section="1">
                                    <div class="images-list"></div>
                                    <button type="button" class="btn btn-secondary btn-add-image" onclick="addImage(1)">
                                        ğŸ“· Ajouter une image
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Bouton ajouter section -->
                <div class="add-section">
                    <button type="button" class="btn btn-success" onclick="addSection()">
                        â• Ajouter une Section
                    </button>
                </div>
            </div>

            <!-- VidÃ©o finale du cours -->
            <div class="form-section">
                <h2>ğŸ¥ VidÃ©o Finale du Cours</h2>
                <p>Ajoutez une vidÃ©o rÃ©capitulative qui sera affichÃ©e Ã  la fin de toutes les sections.</p>
                
                <div class="video-upload-zone">
                    <div class="video-tabs">
                        <button type="button" class="video-tab active" data-tab="upload">ğŸ“ Upload Fichier</button>
                        <button type="button" class="video-tab" data-tab="youtube">ğŸ¥ Lien YouTube</button>
                    </div>
                    
                    <!-- Onglet Upload -->
                    <div class="video-tab-content active" id="upload-tab">
                        <input type="file" accept="video/*" id="course-final-video">
                        <label for="course-final-video" class="upload-area">
                            <div class="upload-icon">ğŸ¥</div>
                            <div class="upload-text">
                                <strong>Cliquez pour ajouter la vidÃ©o finale</strong>
                                <span>ou glissez-dÃ©posez ici</span>
                            </div>
                            <div class="upload-hint">MP4, AVI, MOV - Max 100MB</div>
                        </label>
                        <div class="video-preview" style="display: none;">
                            <video controls></video>
                            <button type="button" class="btn-remove-video">âŒ Supprimer</button>
                        </div>
                    </div>
                    
                    <!-- Onglet YouTube -->
                    <div class="video-tab-content" id="youtube-tab">
                        <div class="form-group">
                            <label>Lien YouTube</label>
                            <input type="url" id="course-youtube-url" placeholder="https://www.youtube.com/watch?v=...">
                            <small class="form-hint">Collez l'URL complÃ¨te de votre vidÃ©o YouTube</small>
                        </div>
                        <div class="youtube-preview" id="youtube-preview" style="display: none;">
                            <iframe width="100%" height="315" frameborder="0" allowfullscreen></iframe>
                            <button type="button" class="btn-remove-video" onclick="removeYouTubeVideo()">âŒ Supprimer</button>
                        </div>
                    </div>
                </div>
            </div>
            

            <!-- Actions -->
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="goBack()">
                    â—€ Retour aux Formations
                </button>
                
                <div class="action-buttons">
                    <button type="button" class="btn btn-warning" onclick="saveDraft()">
                        ğŸ’¾ Sauvegarder en Brouillon
                    </button>
                    <button type="button" class="btn btn-success" onclick="publishCourse()">
                        ğŸš€ Publier le Cours
                    </button>
                </div>
            </div>
            
        </form>
    </div>

    <!-- Scripts Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    
    <!-- Config Firebase -->
    <script src="../../../firebase/config.js"></script>
    
    <!-- Scripts -->
    <script src="js/creation.js"></script>

</body>
</html>